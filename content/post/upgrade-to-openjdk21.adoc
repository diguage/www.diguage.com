---
title: "å¦‚ä¸é¡ºæ»‘å‡çº§åˆ° OpenJDK 21"
date: 2024-04-22T19:50:22+08:00
draft: true
keywords: ["Java","OpenJDK","OpenJDK 21"]
tags: ["Java","JVM"]
categories: ["ç¼–ç¨‹è¯­è¨€","è½¯ä»¶å·¥ç¨‹"]
thumbnail: "images/java/java-21.jpeg"

weight: 1
---

https://openjdk.org/projects/jdk/21/[OpenJDK 21^] å·²ç»å‘å¸ƒåŠå¹´æœ‰ä½™ï¼Œåœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œ https://openjdk.org/jeps/439[Generational ZGC^] ä¹Ÿä¸€èµ·å‘å¸ƒäº†ã€‚åœ¨ https://malloc.se/blog/zgc-jdk16[ZGC | What's new in JDK 16^] ä¸­ï¼Œ https://malloc.se/[Per LidÃ©n^] å®£ç§°ï¼Œå°† ZGC çš„æœ€å¤§åœé¡¿æ—¶é—´ä» 10ms é™ä½åˆ°äº† 1msã€‚è¿™äº›ç§ç§å…ˆè¿›æŠ€æœ¯ï¼Œç€å®å……æ»¡è¯±æƒ‘ï¼Œå¿ä¸ä½æƒ³åƒå£èƒèŸ¹ğŸ¦€ã€‚

TIP: æœ¬æ–‡ä»…ä»…ä»‹ç»å‡çº§ OpenJDK çš„ç›¸å…³å†…å®¹ï¼Œè‡³äº ZGC ç­‰æŠ€æœ¯ç»†èŠ‚ï¼Œåç»­å†æ’°æ–‡ä»‹ç»ã€‚

ç”±äº Spring Boot é¡¹ç›®ä¸ Java Web é¡¹ç›®æœ‰å·®å¼‚ï¼Œä¹Ÿæœ‰å…±æ€§ã€‚æ‰€ä»¥ï¼Œåˆ†å¼€æ¥è®²ã€‚

== å‡çº§é€šç”¨å†…å®¹

[source%nowrap,xml,{source_attr}]
----
<dependency>
    <groupId>jakarta.annotation</groupId>
    <artifactId>jakarta.annotation-api</artifactId> <!--1-->
    <version>1.3.5</version>
</dependency>

<!-- æˆ–è€… -->

<dependency>
    <groupId>javax.annotation</groupId>
    <artifactId>javax.annotation-api</artifactId>
    <version>1.3.2</version>
</dependency>
----
<1> æ¨èä½¿ç”¨è¯¥ç‰ˆæœ¬ä»¥åï¼Œåç»­å‡çº§ç›´æ¥æ”¹ç‰ˆæœ¬å·å³å¯ã€‚


== Spring Boot é¡¹ç›®

== Java Web é¡¹ç›®

== å‡çº§ç›¸å…³é—®é¢˜

== æ€§èƒ½å¯¹æ¯”

GC

. JDK8 G1 GC
. JDK17 ZGC
. JDK21 G1 GC
. JDK21 ZGC
. JDK21 Gen ZGC

æŒ‡æ ‡

. å»¶è¿Ÿ
. ååé‡
. CPU
. GC åœé¡¿

// image::/images/[title="",alt="",{image_attr}]

[source%nowrap,xml,{source_attr}]
----
<profile>
  <id>Java1.8</id>
  <activation>
    <jdk>1.8</jdk>
  </activation>
  <properties>
    <spring.version>5.3.33</spring.version>
  </properties>
  <build>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-surefire-plugin</artifactId>
        <version>3.2.5</version>
        <configuration>
          <includes>
            <include>**/*Test.java</include>
          </includes>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>3.13.0</version>
        <configuration>
          <showWarnings>true</showWarnings>
          <fork>true</fork>
        </configuration>
      </plugin>
    </plugins>
  </build>
</profile>
<profile>
  <id>Java17</id>
  <activation>
    <jdk>[17,)</jdk>
  </activation>
  <properties>
    <spring.version>6.0.19</spring.version>
  </properties>
  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>jakarta.servlet</groupId>
        <artifactId>jakarta.servlet-api</artifactId>
        <version>6.0.0</version>
        <scope>provided</scope>
      </dependency>
      <dependency>
        <groupId>org.openjdk.nashorn</groupId>
        <artifactId>nashorn-core</artifactId>
        <version>15.4</version>
      </dependency>
      <dependency>
        <groupId>org.glassfish.jaxb</groupId>
        <artifactId>jaxb-runtime</artifactId>
        <version>2.3.9</version>
      </dependency>
    </dependencies>
  </dependencyManagement>
  <dependencies>
    <dependency>
      <groupId>javax.annotation</groupId>
      <artifactId>javax.annotation-api</artifactId>
      <version>1.3.2</version>
    </dependency>
  </dependencies>
  <build>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-surefire-plugin</artifactId>
        <version>3.2.5</version>
        <configuration>
          <includes>
            <include>**/*Test.java</include>
          </includes>
          <argLine>
            --add-opens java.base/java.math=ALL-UNNAMED
            --add-opens java.base/sun.util.calendar=ALL-UNNAMED
          </argLine>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>3.13.0</version>
        <configuration>
          <showWarnings>true</showWarnings>
          <fork>true</fork>
          <compilerArgs>
            <arg>-J--add-opens=java.base/java.math=ALL-UNNAMED</arg>
            <arg>-J--add-opens=java.base/sun.util.calendar=ALL-UNNAMED</arg>
          </compilerArgs>
        </configuration>
      </plugin>
    </plugins>
  </build>
</profile>
----

. https://hibernate.org/validator/releases/7.0/[Hibernate Validator 7.0^]

